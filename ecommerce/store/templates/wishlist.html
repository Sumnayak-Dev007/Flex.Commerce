{% extends 'store/layouts/main.html' %}
{% load static tailwind_tags %}

{% block title %}
Your Wishlist
{% endblock %}

{% block content %}
<div class="bg-gray-100 dark:bg-gray-900 min-h-screen transition-colors duration-300">

  <!-- Breadcrumb -->
  <div class="py-4 text-xl bg-blue-600 dark:bg-blue-900 shadow-sm">
    <div class="container mx-auto px-4">
      <a href="{% url 'home' %}" class="text-white hover:underline">Home /</a>
      <a href="{% url 'wishlist' %}" class="text-white hover:underline">Wishlist</a>
    </div>
  </div>

  <!-- Wishlist Section -->
  <div class="mx-auto py-12 px-4 lg:px-8">
    <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-gray-100">Your Wishlist</h2>

    {% if wishlist %}
      <div class="grid grid-cols-1 gap-6">
        {% for item in wishlist %}
          <div class="product_data flex flex-col lg:flex-row items-center lg:justify-between space-y-4 lg:space-y-0 py-5 px-5 rounded-xl shadow-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 transition-all duration-300 hover:shadow-lg">

            <!-- Product Image -->
            <div class="w-full lg:w-1/4 flex justify-center">
              <img class="w-full max-w-[10rem] rounded-md object-cover" src="{{ item.product.product_image.url }}" alt="{{ item.product.name }}">
            </div>

            <!-- Product Info -->
            <div class="w-full lg:w-1/3 text-center lg:text-left">
              <p class="text-lg font-semibold dark:text-white text-gray-900 dark:text-gray-100">{{ item.product.name }}</p>
              <p class="text-gray-600 dark:text-gray-400 dark:text-white text-sm mt-1">{{ item.product.small_description }}</p>
            </div>

            <!-- Price & Actions -->
            <div class="w-full lg:w-1/4 flex flex-col items-center lg:items-end space-y-2">
              <p class="text-lg font-semibold dark:text-white mr-2 text-gray-900 dark:text-gray-100">
                â‚¹{{ item.product.selling_price|stringformat:'d' }}
              </p>
              
              <a href="{% url 'productview' item.product.category.slug item.product.slug %}" 
                 class="bg-green-500 hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-500 text-white font-semibold py-2 px-4 rounded-md transition">
                <i class="fa fa-eye mr-2"></i>View
              </a>

              <button class="del-wish bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-md transition focus:outline-none">
                <i class="fa fa-trash mr-2"></i>Remove
              </button>
            </div>

            <input type="hidden" value="{{ item.product.id }}" class="prod_id">
            {% csrf_token %}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="flex items-center justify-center h-32 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg shadow">
        <p class="text-lg font-medium">Your Wishlist is Empty</p>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
